<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Death Mountain &#187; Programming</title>
	<atom:link href="http://death-mountain.com/on/tecmologies/programming/feed/" rel="self" type="application/rss+xml" />
	<link>http://death-mountain.com</link>
	<description>ONES WHO DOES NOT HAVE THE TRIFORCE CAN&#039;T GO IN.</description>
	<lastBuildDate>Sun, 28 Apr 2013 20:47:29 +0000</lastBuildDate>
	<language>en</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.3.1</generator>
		<item>
		<title>Developer ups and downs</title>
		<link>http://death-mountain.com/2013/04/developer-ups-and-downs/</link>
		<comments>http://death-mountain.com/2013/04/developer-ups-and-downs/#comments</comments>
		<pubDate>Sun, 28 Apr 2013 20:46:11 +0000</pubDate>
		<dc:creator>Jim</dc:creator>
				<category><![CDATA[Programming]]></category>

		<guid isPermaLink="false">http://death-mountain.com/?p=114</guid>
		<description><![CDATA[A friend of mine had questions about how feasible it is to start programming as a career and what it&#8217;s like. This excerpt addresses some of that. One thing that is kind of tricky about seriously learning to be a developer is that it can be hard to assess whether it is &#8220;right&#8221; for you. [...]]]></description>
			<content:encoded><![CDATA[<p><i>A friend of mine had questions about how feasible it is to start programming as a career and what it&#8217;s like. This excerpt addresses some of that.</i></p>
<p>One thing that is kind of tricky about seriously learning to be a developer is that it can be hard to assess whether it is &#8220;right&#8221; for you. For me, it was fascinating and promising at first but then I hit a big drop where it just seemed like it wasn&#8217;t worth it.</p>
<p>After about two quarters of it in college, I thought I might actually hate programming. I stuck with it simply because it was the third major I was on in college. I felt like I had no options left. Gradually, I felt better about it, but by graduation, I still didn&#8217;t really want a career in it. (I was really fascinated by the process of making music at that time.)</p>
<p>After college, I reluctantly took a job that the company sort of thought of a &#8220;farm league&#8221; for developers. Because I had nothing better to do, I dug into that job and became a developer a year later. It felt good simply because of the external validation. I learned a lot of new stuff and made parts of a product that survived in the wild. I was excited about being a developer.<br />
<span id="more-114"></span><br />
A few years later, I got frustrated with the conditions of that workplace. Then later at another job, bored with the work itself. When the iPhone came out, I was excited again about the possibilities of programming. </p>
<p>Currently, I&#8217;m not particularly excited about iOS, but I do like programming in general. There&#8217;s plenty of interesting stuff to get into now, like previously awkward server side stuff and data visualization. And of course, there&#8217;s plenty of ways to make games in a reasonable amount of time. (That said, I still have not shipped my &#8220;totes sweet indie game.&#8221;) Partly because of an increase in skill and partly because of convenient modern frameworks, programming feels good as an artistic tool and reasonably stimulating as an occupation, if you find the right job.</p>
<p>Those ups and downs probably don&#8217;t happen to everyone, but I thought I&#8217;d warn you about them. Not being 19-25 will probably help with keeping a more even keel about it, as will working in sane environments. (There&#8217;s quite a few other things you can do to mitigate them, but I gotta get this letter out.)</p>
<p>Regardless of all love/hate jibba jabba, being a developer did pay the bills, and I had no trouble finding work.</p>
<p>Maybe your best course of action, if you can clear the time for it, is to spend a few months coding and reading up on programming for 20 hours a week and see how it feels. Also, there&#8217;s a large variety of technology jobs that involve little or no coding, so maybe those are worth thinking about, too.</p>
]]></content:encoded>
			<wfw:commentRss>http://death-mountain.com/2013/04/developer-ups-and-downs/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Gathered on foot, just for you.</title>
		<link>http://death-mountain.com/2012/05/gathered-on-foot-just-for-you/</link>
		<comments>http://death-mountain.com/2012/05/gathered-on-foot-just-for-you/#comments</comments>
		<pubDate>Tue, 15 May 2012 20:48:12 +0000</pubDate>
		<dc:creator>Jim</dc:creator>
				<category><![CDATA[Design]]></category>
		<category><![CDATA[Happenings]]></category>
		<category><![CDATA[Programming]]></category>
		<category><![CDATA[Tecmologies]]></category>
		<category><![CDATA[games]]></category>
		<category><![CDATA[Links]]></category>

		<guid isPermaLink="false">http://death-mountain.com/?p=95</guid>
		<description><![CDATA[For a previous blog, I had a script that collected all of the links I bookmarked on del.icio.us that day and put them in a post. As time went on and I wrote less and less, those link roboposts became about 90% of the content. That was bad for the blog, so I stopped doing [...]]]></description>
			<content:encoded><![CDATA[<p>For a previous blog, I had a script that collected all of the links I bookmarked on del.icio.us that day and put them in a post. As time went on and I wrote less and less, those link roboposts became about 90% of the content.</p>
<p>That was bad for the blog, so I stopped doing that. Here, I&#8217;m doing something that feels similar, but it&#8217;s game stuff that happened to be presented to me in person. So, it&#8217;s as if I went out and physically gathered these links for you. Appreciate!</p>
<p><a href="http://boardgamegeek.com/boardgame/58281/summoner-wars" onclick="pageTracker._trackPageview('/outgoing/boardgamegeek.com/boardgame/58281/summoner-wars?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">Summoner Wars</a></p>
<p>I discovered this at PAX East. It looked like any other card game, except it was played on a grid. There was a lot of orcy fantasy art on it, with the fonts that customarily accompany that kind of art. My friend Tim and I were walking by its booth, and the game&#8217;s designer invited us to try it out. I said sure but was skeptical.</p>
<p>The designer, Colby Dauch, did a great job of walking us through a first turn, and it did turn out to be a very good game. It&#8217;s an elegant tactical combat game that centers largely around positioning, as most tactical combat does, but also involves resource management and acquisition. Like in chess, you win by defeating the enemy&#8217;s key piece. Like in Magic and Dominion, you have a deck of cards that provides your guys, all of which have different abilities that can be coordinated in many different ways. The guys in your deck can be summoned using your magic points, which are obtained by killing your opponent&#8217;s guys.</p>
<p>You can build your own decks, which adds another dimension to the game, but we played with the prepackaged decks, all of which had a very distinct flavor. We played the hell out of this game at PAX, and I think it&#8217;s the best game I played there. Colby said an iOS version was in the works, so I&#8217;m looking out for that. </p>
<p><a href="http://spelltower.com/" onclick="pageTracker._trackPageview('/outgoing/spelltower.com/?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">Spell Tower</a></p>
<p>Spell Tower&#8217;s another game I saw at PAX. It&#8217;s an iOS game in which you make words out of a tower of letters. When you connect a string of serially adjacent letters to make a word, they pop off and the rest of the letters fall to fill the void they leave. It&#8217;s vaguely Tetris-esque. You have to consider where you&#8217;re making words because you can cause letters to pile up in concentrated spots. A tall pile is bad because when a pile reaching the top of the screen ends the game. Making words in this context is fun, but also compelling. And by &#8220;compelling,&#8221; I mean it can create compulsion, which I&#8217;m ambivalent about. </p>
<p>The developer, <a href="http://stfj.net/" onclick="pageTracker._trackPageview('/outgoing/stfj.net/?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">Zach Gage</a>, talked to me for a bit about its development. He got a working version in a surprisingly short amount of time using <a href="http://www.openframeworks.cc/" onclick="pageTracker._trackPageview('/outgoing/www.openframeworks.cc/?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">Open Frameworks</a>. This was a surprise to me because I didn&#8217;t even know there was an iOS port of OF. Zach&#8217;s made a wide variety of software art with it and has a <a href="https://github.com/stfj/ofxSpriteSheetRenderer" onclick="pageTracker._trackPageview('/outgoing/github.com/stfj/ofxSpriteSheetRenderer?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">library</a> for working with sprite sheets. </p>
<p>I was tempted to get into it, but I have enough fluency in Objective-C right now to express myself fairly well and am generally short on time. If ofxiPhone had been around three years ago, I would have been all over it, the same way Ruby people are all up ons <a href="http://www.rubymotion.com/" onclick="pageTracker._trackPageview('/outgoing/www.rubymotion.com/?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">RubyMotion</a>. If you&#8217;re coming to iOS development from a C++ background, you should check it out.</p>
<p><a href="http://letterbrush.com/" onclick="pageTracker._trackPageview('/outgoing/letterbrush.com/?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">Letterbrush</a></p>
<p>Finally, a couple weeks ago, I went to a <a href="http://www.meetup.com/game-dev-night/" onclick="pageTracker._trackPageview('/outgoing/www.meetup.com/game-dev-night/?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">Game Dev Night</a> where I met other people making tile-based game maps with ASCII in plain text. The host, <a href="http://incompl.com/" onclick="pageTracker._trackPageview('/outgoing/incompl.com/?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">Greg Smith</a>, presented us with <a href="http://letterbrush.com/" onclick="pageTracker._trackPageview('/outgoing/letterbrush.com/?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">Letterbrush</a>. Plain text is relatively easy and simple to work with, but it does involve some annoying arrow key-dancing to specific columns and rows. Letterbrush gives you well-known drawing tools so you can skip all that foofawing.</p>
<p>Well, I think there were more, some non-game ones, but I&#8217;ve forgotten them. So, I hope you enjoyed those.</p>
]]></content:encoded>
			<wfw:commentRss>http://death-mountain.com/2012/05/gathered-on-foot-just-for-you/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>ALAssetsLibrary and threads</title>
		<link>http://death-mountain.com/2011/05/alassetslibrary-and-threads/</link>
		<comments>http://death-mountain.com/2011/05/alassetslibrary-and-threads/#comments</comments>
		<pubDate>Thu, 19 May 2011 22:23:54 +0000</pubDate>
		<dc:creator>Jim</dc:creator>
				<category><![CDATA[Programming]]></category>
		<category><![CDATA[Tecmologies]]></category>
		<category><![CDATA[alassetslibrary]]></category>
		<category><![CDATA[debugging]]></category>
		<category><![CDATA[iOS]]></category>
		<category><![CDATA[iphone]]></category>
		<category><![CDATA[queues]]></category>
		<category><![CDATA[threads]]></category>

		<guid isPermaLink="false">http://death-mountain.com/?p=72</guid>
		<description><![CDATA[I&#8217;m working on an iOS app right now with a feature that uses images from the Photo Library. This was all solid for me, and I had worked with it for a nearly a month before putting it before my alpha testers. With a set up like that, you know where this is going: It [...]]]></description>
			<content:encoded><![CDATA[<p>I&#8217;m working on an iOS app right now with a feature that uses images from the Photo Library. This was all solid for me, and I had worked with it for a nearly a month before putting it before my alpha testers.</p>
<p>With a set up like that, you know where this is going: It totally did not work for them. At all. After the users would pick a photo from the library, the spinner letting the user know an image was being loaded would sit there forever, and eventually, this would show up in the console logs:</p>
<p><code>May 19 14:51:17 THE-MOON SpringBoard[27] <Notice>: MultitouchHID(1ed4d440) uilock state: 0 -> 1</p>
<p>May 19 14:52:00 THE-MOON SpringBoard[27] <Warning>: jotunheim[725] has active assertions beyond permitted time:<br />
	{(<br />
	    <SBProcessAssertion: 0x1ede9670> identifier: CoreLocationRegistration process: jotunheim[725] permittedBackgroundDuration: 600.000000 reason: finishTask owner pid:725 preventSuspend  preventIdleSleep ,<br />
	    <SBProcessAssertion: 0x1f92a540> identifier: CoreLocationRegistration process: jotunheim[725] permittedBackgroundDuration: 600.000000 reason: finishTask owner pid:725 preventSuspend  preventIdleSleep<br />
	)}</p>
<p>May 19 14:52:00 THE-MOON SpringBoard[27] <Warning>: Forcing crash report of jotunheim[725]...</code></p>
<p>For the life of me, I could not reproduce this bug on my phone or my girlfriend&#8217;s phone. Which, of course, is bewildering. Googling pointed to a lot of problems related to threading, and indeed I was using a dispatch queue of my own making to do the image work.</p>
<p>I know there&#8217;s things that absolutely must be started on the main thread: Network calls (which end up on the web thread) and UI stuff. But I wasn&#8217;t doing anything with the network or the UI, as far as I knew. And why would this only happen on my users&#8217; devices and not on devices in my household?<br />
&nbsp;</p>
<p>I&#8217;ll spare you a recounting the red herrings that I surveyed.<br />
&nbsp;</p>
<p><b>It&#8217;s because</b> the first time you try to get stuff out of the Photo Library with ALAssetsLibrary, it asks the user if your app can have access to location data. (Photo metadata can contain with location data.) But it can&#8217;t show a UIAlertView from a thread other than the main thread, it can&#8217;t, so things will just stall out.</p>
<p>My phone and my lady friend&#8217;s phone have had on them previous builds of the app that used ALAssetsLibrary <i>from the main thread</i>. So, back then, that dialog was able to show, and location data access permission was saved. Deleting the app doesn&#8217;t revoke that permission. The current build, which used ALAssetsLibrary from a non-main thread, ran into no problems because it had the permission and didn&#8217;t need to show any dialogs.<br />
&nbsp;</p>
<p>The lessons I can see are:</p>
<p>1. Doing work in helper queues is great, but <b>think twice about whether or not the things you do there are going to lead to UI or network stuff</b>.</p>
<p>If I had read carefully, I would have noted that the <a href="http://developer.apple.com/library/ios/#documentation/AssetsLibrary/Reference/ALAssetsLibrary_Class/Reference/Reference.html" onclick="pageTracker._trackPageview('/outgoing/developer.apple.com/library/ios/_documentation/AssetsLibrary/Reference/ALAssetsLibrary_Class/Reference/Reference.html?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">documentation</a> says:<br />
<blockquote>When the asset is requested, <b>the user may be asked</b> to confirm the application&#8217;s access to the library. If the user denies access to the application, or if no application is allowed to access the data, the failure block is called.
</p></blockquote>
<p>2. Things that affect your app get saved outside of your app and <b>don&#8217;t get cleared when you delete your app</b>.</p>
<p>I hope this saves someone somewhere some time.</p>
]]></content:encoded>
			<wfw:commentRss>http://death-mountain.com/2011/05/alassetslibrary-and-threads/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Key-Value Coding keypaths and arrays</title>
		<link>http://death-mountain.com/2010/07/key-value-coding-keypaths-and-array/</link>
		<comments>http://death-mountain.com/2010/07/key-value-coding-keypaths-and-array/#comments</comments>
		<pubDate>Fri, 23 Jul 2010 03:45:52 +0000</pubDate>
		<dc:creator>Jim</dc:creator>
				<category><![CDATA[Programming]]></category>
		<category><![CDATA[cocoa]]></category>
		<category><![CDATA[key-value coding]]></category>

		<guid isPermaLink="false">http://death-mountain.com/?p=40</guid>
		<description><![CDATA[If you haven&#8217;t read about Key-Value Coding in Cocoa, and you like generic programming, you should do so! By letting you use strings to find and invoke the properties of an object, it opens up a lot of possibilities. I&#8217;ll let the documentation speak to that, though. Key paths are one element of KVC that&#8217;s [...]]]></description>
			<content:encoded><![CDATA[<p>If you haven&#8217;t read about <a href="http://developer.apple.com/mac/library/documentation/Cocoa/Conceptual/KeyValueCoding/KeyValueCoding.html" onclick="pageTracker._trackPageview('/outgoing/developer.apple.com/mac/library/documentation/Cocoa/Conceptual/KeyValueCoding/KeyValueCoding.html?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">Key-Value Coding</a> in Cocoa, and you like generic programming, you should do so! By letting you use strings to find and invoke the properties of an object, it opens up a lot of possibilities. I&#8217;ll let the documentation speak to that, though.</p>
<p>Key paths are one element of KVC that&#8217;s handy, but doesn&#8217;t work in one case that seemed to come up a lot in my experience. Keypaths let you traverse an object hierarchy by means of a string that chains together the names of properties, separated by dots. </p>
<p>[person valueForKeyPath:@"contactinfo.address.street.orientation"];</p>
<p>The above line would call the person object&#8217;s contactinfo property, then call the address property on the result of contactinfo call, then call the street property on the result of the address call, then finally call the orientation property on the result of street call.</p>
<p>Pretty handy, but it does break down when you throw an array into the mix. Say contactinfo had an addresses property that returned an array of address objects instead of just one. There&#8217;s no way to express which element of that array you want via a key path, so you have traverse the hierarchy the old-fashioned way. Boo-hoo, eh?</p>
<p>Well, sure. But any time you do have to do something a lot of times, a minor inconvenience gets annoying. So, I got around this by making myself a basic implementation keypaths with array accessors. Here it is:<br />
<span id="more-40"></span><br />
<script src="http://gist.github.com/486951.js?file=OGKeyPath.h"></script><br />
&nbsp;<br />
<script src="http://gist.github.com/486951.js?file=OGKeyPath.m"></script></p>
<p>It&#8217;s not super-robust, but it&#8217;s actually been used. So, take that as you will and do with it as you like!</p>
]]></content:encoded>
			<wfw:commentRss>http://death-mountain.com/2010/07/key-value-coding-keypaths-and-array/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>TaskPaper to html conversion script/A less painful resume updating process</title>
		<link>http://death-mountain.com/2010/05/taskpaper-to-html-conversion-script/</link>
		<comments>http://death-mountain.com/2010/05/taskpaper-to-html-conversion-script/#comments</comments>
		<pubDate>Mon, 17 May 2010 05:47:23 +0000</pubDate>
		<dc:creator>Jim</dc:creator>
				<category><![CDATA[Programming]]></category>
		<category><![CDATA[Tecmologies]]></category>
		<category><![CDATA[formats]]></category>
		<category><![CDATA[html]]></category>
		<category><![CDATA[perl]]></category>
		<category><![CDATA[resume]]></category>
		<category><![CDATA[taskpaper]]></category>
		<category><![CDATA[word]]></category>

		<guid isPermaLink="false">http://death-mountain.com/?p=29</guid>
		<description><![CDATA[I couldn&#8217;t find a TaskPaper-to-html script out there, even though I thought this would have been done a million times by now. (Could be that I&#8217;m just getting worse at Googling. Let me know if I&#8217;m wrong!) So, I wrote a Perl script to do it: tp_to_html.pl Usage: perl tp_to_html.pl biglist.taskpaper bigstyle.css You give it [...]]]></description>
			<content:encoded><![CDATA[<p>I couldn&#8217;t find a TaskPaper-to-html script out there, even though I thought this would have been done a million times by now. (Could be that I&#8217;m just getting worse at Googling. Let me know if I&#8217;m wrong!)  So, I wrote a Perl script to do it:</p>
<h3><a href="http://death-mountain.com/stuff/2010/05/tp_to_html.pl_source">tp_to_html.pl</a></h3>
<p><tt>Usage: perl tp_to_html.pl biglist.taskpaper bigstyle.css</tt></p>
<p>You give it a .taskpaper file and (optionally) a css file, and it&#8217;ll generate an html file that&#8217;ll contain ul and li elements (you can change the code to use blockquotes and divs, if you want), each set to a class corresponding to the item type &#8211; project, task, or note. You can then style those elements and classes in the css file (<a href="http://jimkang.com/resume/resume.css" onclick="pageTracker._trackPageview('/outgoing/jimkang.com/resume/resume.css?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">example</a>).<br />
&nbsp;<br />
&nbsp;</p>
<p><b>Backstory!</b></p>
<p><a href="http://www.hogbaysoftware.com/products/taskpaper" onclick="pageTracker._trackPageview('/outgoing/www.hogbaysoftware.com/products/taskpaper?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">TaskPaper</a> is a super simple, yet surprisingly effective application for organizing things into hierarchical lists. It&#8217;s intended to be used for to-do lists, but I hadn&#8217;t used it for that until yesterday. </p>
<p>For the past couple months, I&#8217;ve been mostly using to just jot down, then arrange ideas I had about various projects, which is what I&#8217;ve been doing with plain text files for years. The difference between text files and TaskPaper files is that TaskPaper provides formatting for items based on simple cues, like a line starting with a dash or ending with a colon or have a @done &#8220;tag&#8221; on it. It uses those formatting cues and changes colors and font sizes. It turns out that just doing that makes lists much easier to read and much more attractive. You actually want to look at these lists. That, along with making it very easy, almost unconscious, for the user to format items makes for a rather compelling product, believe it or not.</p>
<p>Anyway, I started using it for my resume. I haven&#8217;t touched my resume in a while, but I do remember the maintainability messes I used to have. I&#8217;d make the base copy in Word or OpenOffice, fighting it to format it the way I wanted. Then, I&#8217;d save it as a PDF to mail to people (because that way I could be sure it displayed the way I intended). More often than not, a recruiter would ask for it to be in doc format, so I&#8217;d send the original file. And then sometimes, a web form would ask me to paste in my resume in plain text. So, I&#8217;d copy it out of the doc file, paste it into a text editor, see that it looked terrible, then mess with it until it looked right. I&#8217;d also make an html version, which I&#8217;d have to hand code because the &#8220;save as html&#8221; features on Word and OpenOffice sucked.</p>
<p>Inevitably, I&#8217;d have to update the resume, which meant updating three different versions.</p>
<p>This time, I initially decided to just use TaskPaper to organize my editing, without having to fight Open Office. Soon, though, the idea of using just TaskPaper took hold of me. A .taskpaper file, after all, is just a text file with &#8220;- &#8221; and &#8220;:&#8221; and various @tags in it. So, there&#8217;s the text version. I could use a script to convert it to html, then a css file to style it. Then, once I had it open in the browser, I could use the OS X print dialog to save it as a PDF. )</p>
<p>So far, I&#8217;m pretty satisfied with the system. I really like that the formatting and content are separated. I&#8217;m not dreading the next edit or update. Of course, it does have a big flaw: I assumed that there&#8217;d be something out there that&#8217;d convert either html+css or a PDF to a Word doc. I was wrong, so I&#8217;ve got more research to do. If you happen to know how to handle this, please let me know!</p>
<p><b>Update:</b> <a href="http://www.pdftoword.com/" onclick="pageTracker._trackPageview('/outgoing/www.pdftoword.com/?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">pdftoword.com</a> works pretty decently.</p>
]]></content:encoded>
			<wfw:commentRss>http://death-mountain.com/2010/05/taskpaper-to-html-conversion-script/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>How RGB is related to HSV, and how to implement hue shifting on the iPhone</title>
		<link>http://death-mountain.com/2010/04/rgb-hsv-and-hue-shifting/</link>
		<comments>http://death-mountain.com/2010/04/rgb-hsv-and-hue-shifting/#comments</comments>
		<pubDate>Thu, 22 Apr 2010 05:28:40 +0000</pubDate>
		<dc:creator>Jim</dc:creator>
				<category><![CDATA[Programming]]></category>
		<category><![CDATA[Tecmologies]]></category>
		<category><![CDATA[cocos2d]]></category>
		<category><![CDATA[color]]></category>
		<category><![CDATA[iphone]]></category>
		<category><![CDATA[objective-c]]></category>
		<category><![CDATA[photoshop]]></category>
		<category><![CDATA[technique]]></category>

		<guid isPermaLink="false">http://death-mountain.com/?p=12</guid>
		<description><![CDATA[Last weekend, I wrote some code that shifted hues in existing colors. To do that, I needed to improve my understanding of hue, saturation, and lightness. I had to go on a journey of learning! So, I thought I&#8217;d share my rainbow voyage with you here. &#160; I started by poking around in Photoshop. If [...]]]></description>
			<content:encoded><![CDATA[<p>Last weekend, I wrote some code that shifted hues in existing colors. To do that, I needed to improve my understanding of hue, saturation, and lightness. I had to go on a journey of learning! So, I thought I&#8217;d share my rainbow voyage with you here.<br />
&nbsp;</p>
<p>I started by poking around in Photoshop. If you&#8217;re familiar with Photoshop, you may recognize this dialog:</p>
<p><a href="http://death-mountain.com/stuff/2010/04/Photoshop_HSV.png"><img src="http://death-mountain.com/stuff/2010/04/Photoshop_HSV.png" alt="" title="Photoshop_HSV" width="463" height="309" class="alignnone size-full wp-image-13" /></a></p>
<p>If you move around the Hue slider, your image changes color without changing either saturation (which can be described as &#8216;colorfulness&#8217;, sort of) or value (lightness). That is exactly the functionality I wanted to implement. In Photoshop, it&#8217;s also fun stuff that can make your photos look psychedelic.</p>
<p>Then, there&#8217;s this guy, the Color Picker:</p>
<p><a href="http://death-mountain.com/stuff/2010/04/Photoshop_colorpicker.png"><img src="http://death-mountain.com/stuff/2010/04/Photoshop_colorpicker.png" alt="" title="Photoshop_colorpicker" width="558" height="362" class="alignnone size-full wp-image-14" /></a></p>
<p>To pick your color, you click around in the box on the left and move the rainbow slider up and down. The number-containing boxes in the middle show you the <a href="http://en.wikipedia.org/wiki/RGB" onclick="pageTracker._trackPageview('/outgoing/en.wikipedia.org/wiki/RGB?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">RGB</a> (red green blue) values of the color currently specified, which is handy. The rainbow slider is a hue controller, and the big box on the left represents lightness on its Y-axis and saturation on its X-axis.<br />
&nbsp;</p>
<p>When you sit down to code something like this, though, <i>you can&#8217;t manipulate the hue directly</i> like that, at least not on the iPhone. You can&#8217;t just say &#8220;give me this existing color&#8217;s hue&#8221; and then use that to compose a new color. Whether you&#8217;re using UIColor, CGColor, or cocos2d&#8217;s ccColor3B, the only way to manipulate the hue of an existing color is via RGB. Thus, you need to figure out how RGB affects HSV (hue saturation value/lightness).</p>
<p>Moving the hue slider in Photoshop&#8217;s color picker and noting the RGB value changes is a good way to do this. Try it, and you&#8217;ll notice that among the RGB values, there&#8217;s always a constant highest number, a constant lowest number, and a variable middle number. </p>
<p>Let&#8217;s say the color you start off with has an RGB of <b>57</b>-<b>181</b>-107 (a <span style="background-color: #39b56b; color: #ffffff">mildly-bluish green</span>). You can move the hue slider anywhere you want, but two of the RGB values will <i>always</i> be <b>57</b> and <b>181</b>. If you slide it toward the orange spectrum, you&#8217;ll end up with something like <span style="background-color: #b56b39; color: #ffffff"><b>181</b>-107-<b>57</b></span>. 181 and 57 are still in the mix, yet it&#8217;s an entirely different color. </p>
<p>When moving the hue slider, the limits remain constant because <b>changing the upper and lower limits will affect the lightness and saturation of a color.</b> If you move the cursor in the saturation/lightness color panel, however, those limits will change.</p>
<p><b>Lightness</b></p>
<p>On a display, if you max out red, green, and blue, the result is pure white. It follows that raising the upper limit among the RGB components of a given color will move it <i>closer</i> to white, whereas lowering the lower limit will move it further <i>away</i> from white. &#8220;Moving a color further away from white&#8221; is also known as &#8220;darkening a color.&#8221; </p>
<p><b>Saturation</b></p>
<p>Saturation is also affected by the upper and lower RGB limits, but by the two limits&#8217; relative distance from each other, rather than by the limit&#8217;s absolute values. In RGB terms, gray occurs when each of the components&#8217; values are close to one another. <span style="background-color: #abb0a1">177-171-161</span> is a kind of gray, for example. When all three components of a color have matching values, as in <span style="background-color: #ababab">177-177-177</span>, that color is said to be totally desaturated.</p>
<p>Conversely, the further apart the RGB components are, the more saturated the colors become. e.g. <span style="background-color: #ff7011">255-112-17</span> is a very intense orange. 255 and 17 are about as far apart as you can get.</p>
<p><b>Hue</b></p>
<p>If we want to change the hue while freezing saturation and lightness, we can&#8217;t change the upper and lower limits, as explained above. That leaves us just the following:</p>
<p>1. We can change the variable middle value. e.g. 112 in a color like <span style="background-color: #7043e9; color: #ffffff">112-67-233</span>. If we change 112 to 150, we get <span style="background-color: #9643e9; color: #ffffff">150-67-233</span>.</p>
<p>2. We can&#8217;t change the upper and lower limits, but we can swap their positions. e.g. In <span style="background-color: #7043e9; color: #ffffff">112-67-233</span>, we can move 67 and 233 and get<br />
 <span style="background-color: #43e970">67-233-112</span>.</p>
<p>Now we know how to change the hue without messing with saturation or lightness, but we&#8217;re changing it haphazardly. To find out how to move the hue along the spectrum the way the Photoshop slider does, look at the RGB value changes that happen when the slider is slowly moved in the red-to-blue direction. You&#8217;ll see that:</p>
<p>1. One value (either R, G, or B) changes at a time.<br />
2. That value is either moves up until it hits the upper limit, or it moves down until it hits the lower limit.<br />
3. Once a value hits a limit, that value stops changing momentarily, and a different value starts moving.</p>
<p>Here&#8217;s a graph of the changes in the RGB values as the color is moved along the spectrum:</p>
<p><a href="http://death-mountain.com/stuff/2010/04/crappy_rgb_graph.png"><img src="http://death-mountain.com/stuff/2010/04/crappy_rgb_graph.png" alt="" title="crappy_rgb_graph" width="487" height="335" class="alignnone size-full wp-image-15" /></a></p>
<p>(I apologize for the graph&#8217;s crapulence. I bet you there&#8217;s a good version of this somewhere on the web, but it wasn&#8217;t on the first page of search results, so I just scriggled this out.)</p>
<p>The lines represent the amounts of R, G, and B components that are present in each point along the spectrum. The vertical bars at the top are the colors that (approximately) result from those RGB combinations.</p>
<p>The graph shows the following behavior: <b>For each component (R, G, and B):</p>
<p>- If the component is not at the the lower limit and the next component (e.g. the next component after the R component is G) is at the upper limit, that component will descend.</p>
<p>- If the component is not at the upper limit and the next component is at the lower limit, that component will ascend.</p>
<p>- Otherwise, that component doesn&#8217;t change.</b></p>
<p>I&#8217;m sure there&#8217;s some clean mathematical formula that describes this, but I haven&#8217;t done any real math in like twelve years, and now my math organ is shriveled and useless. So, you&#8217;ll have to live with the algorithm.</p>
<p><b>Implementation</b></p>
<p>Once you know the above, implementation is fairly straightforward. If you want an example, though, here&#8217;s my cocos2d-oriented implementation in Objective-C on <a href="http://gist.github.com/585828" onclick="pageTracker._trackPageview('/outgoing/gist.github.com/585828?referer=http%3A%2F%2Fdeath-mountain.com%2Fon%2Ftecmologies%2Fprogramming%2F');">github</a>.</p>
<p>OGColorTools contains the code that does the color shifting. The meat of the code is in the method color:shiftHue:inDirection:. OGHueShiftExampleLayer is a simple example layer that creates a sprite and shifts its color every time the layer is tapped. You will need to provide your own bitmap and load it into the sprite for this to work.</p>
<p>Enjoy your hue shifting!</p>
]]></content:encoded>
			<wfw:commentRss>http://death-mountain.com/2010/04/rgb-hsv-and-hue-shifting/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
	</channel>
</rss>
